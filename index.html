<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Personal Expense Tracker</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
<h1>Expense Tracker</h1>
</header>

<main>
<section aria-labelledby="summary-heading">
<h2 id="summary-heading">Summary</h2>
<div id="summary">
<div>
<div class="summary-label">Total Spending</div>
<div class="summary-value" id="summary-total">0.00</div>
<div class="summary-sub">Across all filtered transactions</div>
</div>
<div>
<div class="summary-label">Overall Total</div>
<div class="summary-value" id="summary-total-overall">0.00</div>
<div class="summary-sub">All-time across all stored expenses</div>
</div>
<div>
<div class="summary-label">Transactions</div>
<div class="summary-value" id="summary-count">0</div>
<div class="summary-sub">Number of visible items</div>
</div>
<div>
<div class="summary-label">By Category</div>
<ul id="summary-categories"></ul>
<canvas id="category-chart" height="140"></canvas>
</div>
</div>
</section>
<section aria-labelledby="monthly-heading">
<h2 id="monthly-heading">Monthly Summary</h2>
<div id="monthly-summary"></div>
</section>
<section aria-labelledby="add-expense-heading">
<h2 id="add-expense-heading">Add Expense</h2>
<form id="expense-form" novalidate>
<div>
<label for="amount">Amount</label>
<input type="number" id="amount" name="amount" inputmode="decimal" step="0.01" min="0" placeholder="0.00" required aria-required="true">
</div>

<div>
<label for="category">Category</label>
<input type="text" id="category" name="category" placeholder="e.g., Food" list="category-list" required aria-required="true">
</div>

<div>
<label for="date">Date</label>
<input type="date" id="date" name="date" required aria-required="true">
</div>

<div>
<label for="description">Description</label>
<input type="text" id="description" name="description" placeholder="Optional description">
</div>

<div>
<button type="submit">Add Expense</button>
</div>
<div id="form-error" role="alert" aria-live="polite"></div>
</form>
<datalist id="category-list">
<option value="Food"></option>
<option value="Transport"></option>
<option value="Entertainment"></option>
<option value="Bills"></option>
<option value="Shopping"></option>
<option value="Other"></option>
</datalist>
</section>

<section aria-labelledby="expenses-heading">
<h2 id="expenses-heading">Expenses</h2>
<div id="filters">
<label for="filter-category">Category</label>
<select id="filter-category">
<option value="">All categories</option>
<option value="Food">Food</option>
<option value="Transport">Transport</option>
<option value="Entertainment">Entertainment</option>
<option value="Bills">Bills</option>
<option value="Shopping">Shopping</option>
<option value="Other">Other</option>
</select>

<label for="filter-from">From</label>
<input type="date" id="filter-from">

<label for="filter-to">To</label>
<input type="date" id="filter-to">

<button type="button" id="filter-clear">Clear Filters</button>
<button type="button" id="export-csv" title="Export all expenses (Shift: export filtered)">Export CSV</button>
<span aria-hidden="true" style="margin-left:8px; color:#6b7280; font-size:12px;">Click: export all. Shift+Click: export filtered.</span>
</div>
<div class="table-wrapper">
<table id="expenses-table">
<thead>
<tr>
<th scope="col">Date</th>
<th scope="col">Category</th>
<th scope="col">Description</th>
<th scope="col">Amount</th>
<th scope="col">Actions</th>
</tr>
</thead>
<tbody id="expenses-tbody">
<!-- Rows will be inserted here by script.js -->
</tbody>
<tfoot>
<tr>
<th scope="row" colspan="4">Total</th>
<td id="total-amount">0.00</td>
</tr>
</tfoot>
</table>
</div>
</section>
</main>

<script src="script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<div id="toast" role="status" aria-live="polite" aria-atomic="true"></div>
</body>
</html>

